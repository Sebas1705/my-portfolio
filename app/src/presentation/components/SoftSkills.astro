---
import type { Language } from '@/domain';
import { translate } from '@/domain';
import Section from './common/Section.astro';

interface Props {
    lang: Language;
}

const { lang } = Astro.props;

import { InMemorySoftSkillsLabelsRepository, InMemorySoftSkillRepository } from '@/data';
import { GetSoftSkillsLabelsUseCase, GetSoftSkillsUseCase } from '@/domain';

const softSkillsLabels = await new GetSoftSkillsLabelsUseCase(new InMemorySoftSkillsLabelsRepository()).execute();
const softSkills = await new GetSoftSkillsUseCase(new InMemorySoftSkillRepository()).execute
---

<Section id="soft-skills" class="bg-white dark:bg-slate-900 py-20" title={translate(softSkillsLabels.title, lang)} subtitle={translate(softSkillsLabels.subtitle, lang)}>
    <div class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 max-w-6xl mx-auto px-4">
        {softSkills.map((skill, i) => (
            <div class={`soft-skill-card fade-in bg-white dark:bg-slate-800 border border-gray-100 dark:border-slate-700 rounded-2xl p-6 text-center transition-transform duration-200 hover:-translate-y-1 hover:shadow-lg flex flex-col gap-4`} title={skill.name}>
                <div class="text-3xl leading-none">{skill.icon}</div>
                <h3 class="text-lg font-bold text-slate-900 dark:text-slate-100">{skill.name}</h3>
                <p class="text-sm text-slate-600 dark:text-slate-300 leading-relaxed">{skill.description}</p>
            </div>
        ))}
    </div>
</Section>

<style>
    /* Minimal CSS: animation for staggered entrance */
    .fade-in { animation: fadeInUp 0.5s ease forwards; opacity: 0; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

    .soft-skill-card:nth-child(1) { animation-delay: 0.08s; }
    .soft-skill-card:nth-child(2) { animation-delay: 0.12s; }
    .soft-skill-card:nth-child(3) { animation-delay: 0.16s; }
    .soft-skill-card:nth-child(4) { animation-delay: 0.20s; }
    .soft-skill-card:nth-child(5) { animation-delay: 0.24s; }
    .soft-skill-card:nth-child(6) { animation-delay: 0.28s; }
    .soft-skill-card:nth-child(7) { animation-delay: 0.32s; }
    .soft-skill-card:nth-child(8) { animation-delay: 0.36s; }
    .soft-skill-card:nth-child(9) { animation-delay: 0.40s; }
    .soft-skill-card:nth-child(10) { animation-delay: 0.44s; }
    .soft-skill-card:nth-child(11) { animation-delay: 0.48s; }
    .soft-skill-card:nth-child(12) { animation-delay: 0.52s; }
</style>
