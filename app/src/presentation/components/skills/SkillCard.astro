---
import type { Skill } from '@/domain';

interface Props {
    skillId: string;
    skills: Skill[];
    compact?: boolean;
}

const { skillId, skills, compact = false } = Astro.props;

const skill = skills.find((s) => s.id === skillId);
const displayName = skill?.name ?? skillId;
const fallbackLabel = displayName.slice(0, 2).toUpperCase();
---

<div class={`bg-slate-100 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg text-center transition-transform duration-200 flex flex-col items-center justify-center ${compact ? 'min-h-[120px] p-4' : 'min-h-[160px] p-6'} hover:border-blue-500 hover:shadow-lg hover:-translate-y-1`}>
    <div class={`grid place-items-center bg-white dark:bg-slate-900 rounded-full border border-gray-200 dark:border-slate-700 ${compact ? 'w-12 h-12 mb-3' : 'w-16 h-16 mb-4'}`}>
        {skill?.iconUrl ? (
            <img 
                src={skill.iconUrl} 
                alt={displayName} 
                width="64" 
                height="64" 
                loading="lazy"
                class={`${compact ? 'w-9 h-9' : 'w-12 h-12'} object-contain`} 
            />
        ) : (
            <span class={`${compact ? 'text-xl' : 'text-2xl'} font-bold text-blue-500`} aria-hidden="true">{fallbackLabel}</span>
        )}
    </div>
    <h3 class="text-sm md:text-base font-semibold text-slate-900 dark:text-slate-100 mt-0 line-clamp-2">{displayName}</h3>
</div>

