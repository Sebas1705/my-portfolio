---
import type { Skill } from '@/domain';

interface Props {
    skillId: string;
    skills: Skill[];
}

const { skillId, skills } = Astro.props;

const skill = skills.find((s) => s.id === skillId);
const displayName = skill?.name ?? skillId;
const fallbackLabel = displayName.slice(0, 2).toUpperCase();
---

<div class="bg-bg-surface-alt-v border border-primary-v rounded-lg text-center transition-transform duration-200 flex flex-col items-center justify-center hover:shadow-lg hover:-translate-y-1 hover:border-primary-v">
    <div class='grid place-items-center bg-bg-surface-alt-v rounded-full p-5'>
        {skill?.iconUrl ? (
            <img 
                src={skill.iconUrl} 
                alt={displayName} 
                width="64" 
                height="64" 
                loading="lazy"
                class={"object-contain"} 
            />
            ) : (
            <span class="text-2xl font-bold text-primary-v" aria-hidden="true">{fallbackLabel}</span>
        )}
    </div>
    <h3 class="text-xs xs:text-xl md:text-2xl font-semibold text-secondary-v mb-5 line-clamp-2">{displayName}</h3>
</div>

