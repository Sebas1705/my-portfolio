---
import type { Skill } from '@/domain';
import SkillCard from './SkillCard.astro';

interface Props {
    skillIds: string[];
    skills: Skill[];
    columns?: number;
    compact?: boolean;
}

const { skillIds, skills, columns = 4, compact = false } = Astro.props;
---

<div class="grid gap-6" style={`--columns: ${columns}`}>
    {skillIds.map((skillId) => (
        <SkillCard skillId={skillId} skills={skills} compact={compact} />
    ))}
</div>

<style>
    /* Preserve dynamic columns behaviour via CSS variable */
    .grid {
        grid-template-columns: repeat(auto-fill, minmax(min(100%, 200px), 1fr));
    }

    @media (min-width: 640px) {
        .grid {
            grid-template-columns: repeat(var(--columns, 4), 1fr);
        }
    }
</style>
