---
import { translate, type Language } from '@/domain';

interface Props {
    lang: Language;
}

import { InMemoryFooterLabelsRepository, InMemoryPersonalInfoRepository } from '@/data';
import { GetFooterLabelsUseCase, GetPersonalInfoUseCase } from '@/domain';
const footerLabels = await new GetFooterLabelsUseCase(new InMemoryFooterLabelsRepository()).execute();
const personalInfo = await new GetPersonalInfoUseCase(new InMemoryPersonalInfoRepository()).execute();

const { lang } = Astro.props;
const currentYear = new Date().getFullYear();
---

<footer class="bg-bg-surface-alt-v border-t border-secondary-v py-8">
    <div class="flex flex-col items-center gap-2 text-center md:flex-row md:justify-between px-15">
        <p class="text-sm text-primary-v">© {currentYear} {personalInfo.name}. {translate(footerLabels.rightsReserved, lang)}</p>
        <p class="text-sm text-primary-v">
            {lang === 'es' ? 'Construido con' : 'Built with'} 
            <a href="https://astro.build" target="_blank" rel="noopener noreferrer" class="text-accent-v font-semibold hover:text-secondary-v transition-colors">Astro</a>
            {lang === 'es' ? ' y' : ' and'} ❤️
        </p>
    </div>
</footer>
